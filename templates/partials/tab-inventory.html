<div class="flex">
    <div class="weapon-section">
        <h2>Equipped weapons</h2>
        
        <table class="weapon-table">
            <tr>
                <td></td> 
                <td><b>Qty</b></td>
                <td><b>Name</b></td>
                <td><b>Range</b></td>
                <td><b>Damage</b></td>
                <td><b>Rel.</b></td>
                <td></td> 
            </tr>
            {{#each weapons as |weapon id|}}
            <tbody class="item" data-item-id="{{weapon._id}}">
                <tr>
                    <td>
                        <div class="flex">
                            <a class="item-weapon-display"><i class="fas fa-info"></i></a>
                            <a class="item-edit"><i class="fas fa-edit"></i></a>
                        </div>
                    </td>
                    <td><input class="inline-edit item-quantity" data-field="data.quantity" type="text" value="{{weapon.data.quantity}}" data-dtype="Number"/></td>
                    <td><input class="inline-edit" data-field="name" type="text" value="{{weapon.name}}" placeholder="name" /></td>
                    <td><input class="inline-edit range-info" data-field="data.range" type="text" value="{{weapon.data.range}}" placeholder="" /></td>
                    <td><input class="inline-edit damage-info" data-field="data.damage" type="text" value="{{weapon.data.damage}}" placeholder="" /></td>
                    <td><input class="inline-edit reliable-info" data-field="data.reliable" type="text" value="{{weapon.data.reliable}}" data-dtype="Number"/></td>
                    <td><a class="item-delete"><i class="fas fa-trash-alt"></i></a>
                </tr>
                <tr class="item-info hidden" >
                    <td colspan="7">
                        <table>
                            <tr>
                                <td><div class="flex"><label class="label-info"><b>Type :</b></label>{{weapon.data.type}}</div></td>
                                <td><div class="flex"><label class="label-info"><b>Avail :</b></label>{{weapon.data.avail}}</div></td>
                                <td><div class="flex"><label class="label-info"><b>Hands :</b></label>{{weapon.data.hands}}</div></td>
                                <td><div class="flex"><label class="label-info"><b>Conc :</b></label>{{weapon.data.conceal}}</div></td>
                                <td><div class="flex"><label class="label-info"><b>En :</b></label>{{weapon.data.enhancements}}</div></td>
                                <td><div class="flex"><label class="label-info"><b>Weight :</b></label>{{weapon.data.weight}}</div></td>
                            </tr>
                            <tr >
                                <td colspan="6"><div><b>Effect :</b></label>{{weapon.data.effect}}</div></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </tbody>
            {{/each}}
        </table>
    </div>
    <div class="armor-section">
        <h2>Equipped Armor</h2>
        
        <table class="armor-table">
            <tr>
                <td></td> 
                <td><b>Qty</b></td>
                <td><b>Name</b></td>
                <td><b>Stp</b></td>
                <td><b>Rel.</b></td>
                <td></td> 
            </tr>
            {{#each armors as |armor id|}}
            <tbody class="item" data-item-id="{{armor._id}}">
                <tr>
                    <td>
                        <div class="flex">
                            <a class="item-armor-display"><i class="fas fa-info"></i></a>
                            <a class="item-edit"><i class="fas fa-edit"></i></a>
                        </div>
                    </td>
                    <td><input class="inline-edit item-quantity" data-field="data.quantity" type="text" value="{{armor.data.quantity}}" data-dtype="Number"/></td>
                    <td><input class="inline-edit" data-field="name" type="text" value="{{armor.name}}" placeholder="name" /></td>
                    <td><input class="inline-edit stopping-info" data-field="data.stopping" type="text" value="{{armor.data.stopping}}" data-dtype="Number"/></td>
                    <td><input class="inline-edit reliable-info" data-field="data.reliable" type="text" value="{{armor.data.reliable}}" data-dtype="Number"/></td>
                    <td><a class="item-delete"><i class="fas fa-trash-alt"></i></a></td>
                </tr>
                <tr class="item-info hidden" >
                    
                    {{#if (eq type "armor")}}
                    <td colspan="6">
                        <table>
                            <tr>
                                <td><div class="flex"> <label class="label-info"><b>Avail :</b></label>{{armor.data.avail}}</div></td>
                                <td><div class="flex"> <label class="label-info"><b>EN :</b></label>{{armor.data.enhancements}}</div></td>
                                <td><div class="flex"> <label class="label-info"><b>Enc :</b></label>{{armor.data.encumb}}</div></td>
                                <td><div class="flex"> <label class="label-info"><b>Weight :</b></label>{{armor.data.weight}}</div></td>
                            </tr>
                            <tr>
                                <td colspan="5"><div class="flex"><b>Effect :</b></label>{{armor.data.effect}}</div></td>
                            </tr>
                        </table>
                    </td>
                    {{/if}}
                    
                    {{#if (eq type "enhancement")}}
                    <td colspan="6"><div class="flex"> 
                        <label class="label-info"><b>Effect :</b></label>{{armor.data.effect}}
                        <label class="label-info"><b>B</b></label><input type="checkbox" name="data.bludgeoning" {{checked data.bludgeoning}} disabled />
                        <label class="label-info"><b>S</b></label><input type="checkbox" name="data.slashing" {{checked data.slashing}} disabled />
                        <label class="label-info"><b>P</b></label><input type="checkbox" name="data.percing" {{checked data.percing}} disabled />
                    </div></td>
                    {{/if}}
                </tr>
            </tbody>
            {{/each}}
        </table>
    </div>
</div>
<div class="flex">
    <div class="valuable-section">
        <h2>Valuables</h2>
        <table class="valuable-table">
            <tr>
                <td></td> 
                <td><b>Qty</b></td>
                <td><b>Name</b></td>
                <td><b>Weight</b></td>
                <td></td> 
            </tr>
            {{#each valuables as |valuable id|}}
            <tbody class="item" data-item-id="{{valuable._id}}">
                <tr>
                    <td>
                        <div class="flex">
                            <a class="item-armor-display"><i class="fas fa-info"></i></a>
                            <a class="item-edit"><i class="fas fa-edit"></i></a>
                        </div>
                    </td>
                    <td><input class="inline-edit item-quantity" data-field="data.quantity" type="text" value="{{valuable.data.quantity}}" data-dtype="Number"/></td>
                    <td><input class="inline-edit" data-field="name" type="text" value="{{valuable.name}}" placeholder="name" /></td>
                    <td><input class="inline-edit" data-field="data.weight" type="text" value="{{valuable.data.weight}}" data-dtype="Number"/></td>
                    <td><a class="item-delete"><i class="fas fa-trash-alt"></i></a>
                </tr>
                <tr class="item-info hidden">
                    {{#if (eq type "valuable")}}
                    <td colspan="4"><div class="flex"><label class="label-info"><b>Effect :</b></label> <div>{{valuable.data.effect}}</div></div></td>
                    {{/if}}
                    {{#if (eq type "alchemical")}}
                    <td colspan="3"><div class="flex"><label class="label-info"><b>Effect :</b></label> <div>{{valuable.data.effect}}</div></div></td>
                    <td colspan="2"><div class="flex"><label class="label-info"><b>Time :</b></label> <div>{{valuable.data.time}}</div></div></td>
                    {{/if}}
                    {{#if (eq type "mount")}}
                    <td colspan="2"><div class="flex"><label class="label-info"><b>Dex :</b></label> <div>{{valuable.data.dex}}</div></div></td>
                    <td><div class="flex"><label class="label-info"><b>Control :</b></label> <div>{{valuable.data.control}}</div></div></td>
                    <td><div class="flex">
                        <label class="label-info"><b>Speed :</b></label> <div>{{valuable.data.speed}}</div>
                        <label class="label-info"><b>HP :</b></label> <div>{{valuable.data.hp}}</div>
                    </div></td>
                    <td></td>
                    {{/if}}
                    {{#if (eq type "mutagen")}}
                    <td colspan="2"><div class="flex"><label class="label-info"><b>Type :</b></label> <div>{{valuable.data.type}}</div></div></td>
                    <td colspan="3"><div class="flex"><label class="label-info"><b>source :</b></label> <div>{{valuable.data.source}}</div></div></td>
                    {{/if}}
                </tr>
            </tbody>
            {{/each}}
        </table>
        <h2>Diagrams & Formulae</h2>
        <table class="diagram-table">
            <tr> 
                <td></td> 
                <td><b>Learned</b></td>
                <td><b>Qty</b></td>
                <td><b>Name</b></td>
                <td></td> 
            </tr>
            {{#each diagrams as |diagram id|}}
            <tbody class="item" data-item-id="{{diagram._id}}">
                <tr>
                    <td>
                        <div class="flex">
                            <a class="item-armor-display"><i class="fas fa-info"></i></a>
                            <a class="item-edit"><i class="fas fa-edit"></i></a>
                        </div>
                    </td>
                    
                    <td><input class="inline-edit" data-field="data.learned" type="checkbox" value="{{diagram.data.learned}}"/></td>
                    <td><input class="inline-edit item-quantity" data-field="data.quantity" type="text" value="{{diagram.data.quantity}}" data-dtype="Number"/></td>
                    <td><input class="inline-edit" data-field="name" type="text" value="{{diagram.name}}" placeholder="name" /></td>
                    <td><a class="item-delete"><i class="fas fa-trash-alt"></i></a>
                </tr>
                <tr class="item-info hidden">
                    {{#unless diagram.data.isFormulae}}
                    <td colspan="5">
                        <div>
                            <div class="flex">
                                <label class="label-info"><b>AlchemyDC :</b></label>{{diagram.data.craftingDc}}
                                <label class="label-info"><b>Time :</b></label>{{diagram.data.craftingTime}}
                                <label class="label-info"><b>Investement :</b></label>{{diagram.data.investement}}
                            </div>
                            <div class="flex">
                                <label class="label-info"><b>Components :</b>{{diagram.data.components}}
                            </div>
                        </div>
                    </td>
                    {{/unless}}
                    {{#if diagram.data.isFormulae}}
                    <td colspan="5">
                        <div>
                            <div class="flex">
                                <label class="label-info"><b>AlchemyDC :</b></label>{{diagram.data.alchemyDC}}
                                <label class="label-info"><b>Time :</b></label>{{diagram.data.craftingTime}}
                            </div>

                            <div class="flex components-display">
                                <img src="systems/TheWitcherTRPG/assets/images/vitriol.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.vitriol}}
                                <img src="systems/TheWitcherTRPG/assets/images/rebis.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.rebis}}
                                <img src="systems/TheWitcherTRPG/assets/images/aether.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.aether}}
                                <img src="systems/TheWitcherTRPG/assets/images/hydragenum.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.hydragenum}}
                                <img src="systems/TheWitcherTRPG/assets/images/vermilion.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.vermilion}}
                                <img src="systems/TheWitcherTRPG/assets/images/sol.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.sol}}
                                <img src="systems/TheWitcherTRPG/assets/images/caelum.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.caelum}}
                                <img src="systems/TheWitcherTRPG/assets/images/fulgur.png" class="substance-img" /> 
                                {{diagram.data.alchemyComponents.fulgur}}
                            </div>
                            <div class="flex">
                                <label class="label-info"><b>Other Components :</b>{{diagram.data.components}}
                            </div>
                        </div>
                    </td>
                    {{/if}}
                </tr>
            </tbody>
            {{/each}}
        </table>
    </div>
    <div class="component-section">
        <div>
            {{> "systems/TheWitcherTRPG/templates/partials/substances.html"}}
        </div>
        <div class="components">
            <h2>Components</h2>
            <table class="component-table">
                <tr>
                    <td></td> 
                    <td><b>Qty</b></td>
                    <td><b>Name</b></td>
                    <td><b>Weight</b></td>
                    <td></td> 
                </tr>
                {{#each components as |valuable id|}}
                <tbody class="item" data-item-id="{{valuable._id}}">
                    <tr>
                        <td>
                            <div class="flex">
                                <a class="item-armor-display"><i class="fas fa-info"></i></a>
                                <a class="item-edit"><i class="fas fa-edit"></i></a>
                            </div>
                        </td>
                        <td><input class="inline-edit item-quantity" data-field="data.quantity" type="text" value="{{valuable.data.quantity}}" data-dtype="Number"/></td>
                        <td><input class="inline-edit" data-field="name" type="text" value="{{valuable.name}}" placeholder="name" /></td>
                        <td><input class="inline-edit weight-data" data-field="data.weight" type="text" value="{{valuable.data.weight}}" data-dtype="Number"/></td>
                        <td><a class="item-delete"><i class="fas fa-trash-alt"></i></a>
                    </tr>
                    <tr class="item-info hidden">
                        <td colspan="4"><div class="flex"><label class="label-info"><b>Type :</b></label> <div>{{valuable.data.type}}</div></div></td>
                    </tr>
                    
                </tbody>
                {{/each}}
            </table>
        </div>
    </div>
</div>
{{TotalWeight}}
